# CYK Algorithm

構文解析の例としてCYK法をJavaで実装してみた．

実行例は以下の通り．

```
$ javac CYK.java
$ java CYK
Type a sentence : Tom played the piano for a long time.
----------------------------------------------------------------------------------------------------------------
|           PN|             |             |             |             |             |             |     S(PN,VP)|
----------------------------------------------------------------------------------------------------------------
|             |            V|             |     VP(V,NP)|             |             |             |     VP(V,NP)|
----------------------------------------------------------------------------------------------------------------
|             |             |          Det| NP(Det,Noun)|             |             |             |    NP(NP,PP)|
----------------------------------------------------------------------------------------------------------------
|             |             |             |         Noun|             |             |             |             |
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |         Prep|             |             |  PP(Prep,NP)|
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |             |          Det|  DA(Det,Adj)|  NP(DA,Noun)|
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |             |             |          Adj|             |
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |             |             |             |         Noun|
----------------------------------------------------------------------------------------------------------------


----------------------------------------------------------------------------------------------------------------
|           PN|             |             |             |             |             |             |     S(PN,VP)|
----------------------------------------------------------------------------------------------------------------
|             |            V|             |     VP(V,NP)|             |             |             |    VP(VP,PP)|
----------------------------------------------------------------------------------------------------------------
|             |             |          Det| NP(Det,Noun)|             |             |             |    NP(NP,PP)|
----------------------------------------------------------------------------------------------------------------
|             |             |             |         Noun|             |             |             |             |
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |         Prep|             |             |  PP(Prep,NP)|
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |             |          Det|  DA(Det,Adj)|  NP(DA,Noun)|
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |             |             |          Adj|             |
----------------------------------------------------------------------------------------------------------------
|             |             |             |             |             |             |             |         Noun|
----------------------------------------------------------------------------------------------------------------
```

どちらの文でも2つのCYK表が得られ，右上のSの下のVPの部分で複数の解釈が生まれていた．
1の文では"play the piano"と"for a long time"（playを修飾）とみるか，"play"と"the piano for a long time"（pianoを修飾）との2通りの解釈がある．
どちらもSyntax上問題はないが，"for a long time"が修飾するのは"piano"というのはSemantics上問題があり，"play"を修飾するのがSemantics上妥当であるといえる．

以下にもう一つ実行例を示す．

```
$ java CYK
Type a sentence : Jack saw Mary with a nice telescope.
--------------------------------------------------------------------------------------------------
|           PN|             |             |             |             |             |     S(PN,VP)|
--------------------------------------------------------------------------------------------------
|             |            V|     VP(V,PN)|             |             |             |     VP(V,NP)|
--------------------------------------------------------------------------------------------------
|             |             |           PN|             |             |             |    NP(PN,PP)|
--------------------------------------------------------------------------------------------------
|             |             |             |         Prep|             |             |  PP(Prep,NP)|
--------------------------------------------------------------------------------------------------
|             |             |             |             |          Det|  DA(Det,Adj)|  NP(DA,Noun)|
--------------------------------------------------------------------------------------------------
|             |             |             |             |             |          Adj|             |
--------------------------------------------------------------------------------------------------
|             |             |             |             |             |             |         Noun|
--------------------------------------------------------------------------------------------------


--------------------------------------------------------------------------------------------------
|           PN|             |             |             |             |             |     S(PN,VP)|
--------------------------------------------------------------------------------------------------
|             |            V|     VP(V,PN)|             |             |             |    VP(VP,PP)|
--------------------------------------------------------------------------------------------------
|             |             |           PN|             |             |             |    NP(PN,PP)|
--------------------------------------------------------------------------------------------------
|             |             |             |         Prep|             |             |  PP(Prep,NP)|
--------------------------------------------------------------------------------------------------
|             |             |             |             |          Det|  DA(Det,Adj)|  NP(DA,Noun)|
--------------------------------------------------------------------------------------------------
|             |             |             |             |             |          Adj|             |
--------------------------------------------------------------------------------------------------
|             |             |             |             |             |             |         Noun|
--------------------------------------------------------------------------------------------------
```

こちらの文でも"saw Mary"と"with a nice telescope"（sawを修飾）とみるか，"saw"と"Mary with a nice telescope"（Maryを修飾）との2通りの解釈があった．
こちらはどちらもSyntax上でもSemantics上でも問題はなく，"with a nice telescope"は"saw"でも"Mary"でも修飾しているといえるため，これはPragmatics上の問題であるといえる．

